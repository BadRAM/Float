@import url(https://smolalli.github.io/Themes/MinimalMode/source.css) (max-width: 700px);

:root {
    --header-height: 40px;
    --guildbar-width: 56px;
    --compact-channellist-width: 240px;
    --sidebar-width: 240px;
    --sidebar-hide-width: 40px;

    /* Float colors* */
    --compact-background-opacity: 1;
    --compact-background-color: var(--background-primary);
    --compact-textarea-color: var(--channeltextarea-background);
}

/* return transition */

/* 400 */
.cozy-VmLDNB .repliedMessage-3Z6XBG:before,
.contents-2MsGLg img,
.cozy-VmLDNB.wrapper-30-Nkg,
/* 700 */
/* app */
.bg-1QIAus,
.app-2CXKsg,
.appMount-2yBXZl,
/* chat */
.container-ZMc96U.themed-Hp1KC_,
.chat-2ZfjoI,
/* other */
.container-2cd8Mz,
.container-ZMc96U,
.sidebar-1tnWFu,
#app-mount .layer-86YKbF~.layer-86YKbF .sidebar-nqHbhN,
/* guildbar */
.scroller-3X7KbA,
.wrapper-1_HaEi,
.guilds-2JjMmN .wrapper-28eC3z,
.listItem-3SmSlK,
.scrollableContainer-15eg7h {
    -webkit-transition: 0.5s ease;
    transition: 0.5s ease;
}


@media (min-width: 400px) {
    .cozy-VmLDNB.wrapper-30-Nkg .avatar-2e8lTP {
        transform: scale(1);
        width: 40px;
        height: 40px;
    }

    .cozy-VmLDNB.wrapper-30-Nkg {
        padding-left: 72px;
    }

    .buttons-3dF5Kd {
        transform: scale(0.75);
        transform-origin: right;
    }

}

@media (max-width: 400px) {
    .toolsContainer-25FL6V {
        position: fixed;
        right: 0;
    }

    .cozy-VmLDNB .repliedMessage-3Z6XBG:before {
        --gutter: 0px;
    }

    .cozy-VmLDNB .repliedMessage-3Z6XBG:before,
    .contents-2MsGLg img,
    .cozy-VmLDNB.wrapper-30-Nkg {
        -webkit-transition: 0.5s ease;
        transition: 0.5s ease;
    }

    .contents-2MsGLg img {
        left: 0;
    }

    .cozy-VmLDNB.wrapper-30-Nkg {
        padding-left: 35px;
    }

    .toolbar-3_r2xA>[aria-label="Pinned Messages"],
    .buttonContainer-2lnNiN:not(#sendAudioButtons):not(.send-button) .button-f2h6uQ[aria-label]:not(.apateEncryptionKeyButton) .button-2fCJ0o:not(.stickerButton-1-nFh2) {
        display: none;
    }

}

@media (max-width: 700px) {

    /* transition */

    /* app */
    .bg-1QIAus,
    .app-2CXKsg,
    .appMount-2yBXZl,
    /* chat */
    .container-ZMc96U.themed-Hp1KC_,
    .chat-2ZfjoI,
    /* other */
    .container-2cd8Mz,
    .container-ZMc96U,
    .sidebar-1tnWFu,
    #app-mount .layer-86YKbF~.layer-86YKbF .sidebar-nqHbhN,
    /* guildbar */
    .scroller-3X7KbA,
    .wrapper-1_HaEi,
    .guilds-2JjMmN .wrapper-28eC3z,
    .listItem-3SmSlK,
    .scrollableContainer-15eg7h {
        -webkit-transition: 0.5s ease;
        transition: 0.5s ease;
    }

    /* transparency */

    .bg-1QIAus {
        background-color: var(--compact-background-color);
        opacity: var(--compact-background-opacity) !important;
    }

    /* app */
    .app-2CXKsg,
    .appMount-2yBXZl,
    /* chat */
    .container-ZMc96U.themed-Hp1KC_,
    .chat-2ZfjoI,
    .wrapper-3HVHpV,
    .wrapper-3HVHpV>*,
    /* private channels */
    .peopleColumn-1wMU14,
    .container-2cd8Mz,
    /* guildbar */
    #bd-pub-button,
    .scroller-3X7KbA,
    .wrapper-1_HaEi,
    .scrollableContainer-15eg7h,
    .childWrapper-1j_1ub:not(:hover),
    .circleIconButton-1VxDrg:not(:hover) {
        background-color: transparent !important;
    }

    /* draggable header */

    .container-ZMc96U,
    .children-3xh0VB .iconWrapper-2awDjA>svg {
        -webkit-app-region: drag;
    }

    .children-3xh0VB::after,
    .form-3gdLxP::before,
    .content-1jQy2l::before,
    .tabBody-2dgbAs::before,
    .scroller-2qwVWY::-webkit-scrollbar,
    .protip-1jXzAl.inline-1zjmuk,
    .divider-q3P9HC,
    .topic-11NuQZ.expandable-3CaLeS,
    .note-OhIxFa {
        display: none;
    }

    /* minimal user container override */
    .container-YkUktl .noWrap-hBpHBz {
        display: flex;
        opacity: 1;
    }

    /* settings */
    #app-mount .layer-86YKbF~.layer-86YKbF {
        --settingsmodalwidth: 100%;
        --settingsmodalheight: 100%;
    }

    .sidebarRegion-1VBisG {
        position: fixed;
        height: 100%;
        z-index: 2;
    }

    .sidebarRegion-1VBisG:hover {
        -webkit-box-shadow: var(--elevation-high);
        box-shadow: var(--elevation-high);
    }

    #app-mount .layer-86YKbF~.layer-86YKbF .sidebar-nqHbhN {
        max-width: 56px !important;
        min-width: 56px;
        padding: 60px 6px 60px 15px !important;
    }

    #app-mount .layer-86YKbF~.layer-86YKbF .sidebar-nqHbhN:hover {
        min-width: 213px;
        -webkit-box-shadow: var(--elevation-high);
        box-shadow: var(--elevation-high);
    }

    #app-mount .layer-86YKbF~.layer-86YKbF .header-2Kx1US {
        max-width: unset !important;
    }

    .contentRegion-3HkfJJ {
        padding-left: 56px;
    }

    .contentColumn-1C7as6,
    .customColumn-2n-oKU {
        flex: 1 1 auto;
        min-width: unset;
        width: 0;
    }

    .bd-addon-modal {
        max-height: 100%;
        height: fit-content;
        max-width: 100%;
    }

    .bd-addon-modal .bd-addon-modal-header {
        padding-top: var(--header-height);
    }

    /* toolbar */
    .toolbar-3_r2xA>[aria-label="Hide Member List"],
    .toolbar-3_r2xA>[aria-label="Show Member List"],
    .toolbar-3_r2xA>[aria-label="Pinned Messages"] {
        order: 1;
    }

    .toolbar-3_r2xA>[aria-label="Threads"],
    .toolbar-3_r2xA>[aria-label="Notification Settings"],
    .toolbar-3_r2xA>[aria-label="Add Friends to DM"],
    .toolbar-3_r2xA>[href="https://support.discord.com"] {
        display: none;
    }

    .iconWrapper-2awDjA>svg {
        width: 18px;
    }

    .messagesPopoutWrap-3zryHW {
        max-width: 420px;
        width: 100%;
    }

    /* inbox */
    .toolbar-3_r2xA>[aria-label="Inbox"] {
        position: fixed !important;
        width: 0 !important;
        padding: 0 !important;
        pointer-events: none !important;
    }

    .toolbar-3_r2xA>[aria-label="Inbox"]>*,
    .toolbar-3_r2xA>[aria-label="Inbox"]::before {
        display: none !important;
    }

    .recentMentionsPopout-2bI1ZN {
        width: 70vw;
        min-width: 100%;
        max-height: 80vh;
    }

    /* search bar */
    .searchBar-zdmu7v {
        width: 28px !important;
        background-color: transparent;
    }

    .chat-2ZfjoI .search-39IXmY .searchBar-zdmu7v:hover,
    .chat-2ZfjoI .search-39IXmY .search-1FM8Qc.focused-8aNhVB .searchBar-zdmu7v,
    .chat-2ZfjoI .search-39IXmY .search-1FM8Qc.open-3y3yI_ .searchBar-zdmu7v {
        background-color: var(--background-tertiary);
        width: 240px !important;
    }

    .full-motion .searchBar-zdmu7v {
        -webkit-transition: background-color .25s ease, width .25s ease;
        transition: background-color .25s ease, width .25s ease;
    }

    /* search results */
    .searchResultsWrap-5RVOkx {
        position: absolute;
        top: 4px;
        right: 16px;
        max-width: 90%;
        max-height: 90vh;
        border-radius: 8px;
        -webkit-box-shadow: var(--elevation-high);
        box-shadow: var(--elevation-high);
        z-index: 2;
    }

    .searchBar-zdmu7v .clear-2KQ7l1::before {
        position: fixed;
        content: '';
        width: 100%;
        height: 100%;
        top: var(--header-height);
        left: var(--guildbar-width);
    }

    .container-1-h9mY {
        position: sticky;
        bottom: 0;
        background-color: var(--background-secondary);
        z-index: 1;
    }

    /* channel */
    .sidebar-1tnWFu {
        position: fixed;
        -webkit-box-shadow: var(--elevation-high);
        box-shadow: var(--elevation-high);
        border-radius: 8px 8px 0 0;
        width: 0 !important;
        height: calc(100% - var(--header-height));
        z-index: 3 !important;
        bottom: 0;
    }

    .wrapper-1_HaEi:hover+.base-2jDfDU>.content-1SgpWY>.sidebar-1tnWFu {
        width: var(--compact-channellist-width) !important;
    }

    .sidebar-1tnWFu:hover {
        width: var(--compact-channellist-width) !important;
    }

    /* memberlist */
    .container-2o3qEW {
        position: fixed;
        right: 0;
        -webkit-box-shadow: var(--elevation-stroke), var(--elevation-high);
        box-shadow: var(--elevation-stroke), var(--elevation-high);
        border-radius: 8px 0 0 0;
        z-index: 2 !important;
    }

    .members-3WRCEx {
        border-radius: 8px 0 0 0;
    }

    .iconWrapper-2awDjA[aria-label="Hide Member List"]::before {
        position: fixed;
        content: '';
        width: var(--sidebar-hide-width);
        height: 100%;
        top: var(--header-height);
        right: var(--sidebar-width);
    }

    /* chat text */
    .messageContent-2t3eCI,
    .username-h_Y3Us,
    .repliedTextPreview-1bvxun,
    .timestamp-p1Df1m,
    .title-17Sve,
    .pill-2RsI5Q,
    .title-17SveM {
        text-shadow: 1px 1px 1px rgba(0, 0, 0, calc(1 - var(--compact-background-opacity)));
    }

    .pill-2RsI5Q {
        filter: drop-shadow(1px 1px 1px rgba(0, 0, 0, calc(1 - var(--compact-background-opacity))));
    }

    /* username */
    .cozy-VmLDNB .contents-2MsGLg .header-2jRmjb {
        display: flex;
    }

    .cozy-VmLDNB .headerText-2z4IhQ {
        min-width: 0;
        white-space: nowrap;
    }

    .cozy-VmLDNB .username-h_Y3Us {
        display: block;
        text-overflow: ellipsis;
    }


    .cozy-VmLDNB .timestampInline-_lS3aK {
        white-space: nowrap;
    }

    .message-2CShn3 {
        padding-right: 12px !important;
    }

    .channelTextArea-1FufC0 {
        background-color: var(--compact-textarea-color);
        text-shadow: 1px 1px 1px rgba(0, 0, 0, calc(1 - var(--compact-background-opacity)));
    }

    .stickerButton-1-nFh2,
    .buttons-uaqb-5>.button-f2h6uQ:not(.BD-TeX-plugin-button)> :not(.translateButton-DhP9x8) {
        display: none;
    }

    /* chat scrollbar */
    .scroller-kQBbkU::-webkit-scrollbar {
        width: 12px;
    }

    .scroller-kQBbkU::-webkit-scrollbar-track {
        display: none;
    }

    /* image attachment resize */
    .imageWrapper-oMkQl4 {
        height: auto !important;
        width: unset !important;
    }

    .imageWrapper-oMkQl4 img {
        position: relative;
        height: auto !important;
        width: unset !important;
        max-width: 100%;
    }

    .imageDetails-1t6Zms {
        display: none;
    }

    /* quick switcher */
    .quickswitcher-pKcM9U {
        top: var(--header-height);
        width: 100vw;
    }

    /* nitro stuck warning */
    .applicationStore-2nk7Lo::before {
        content: "Welcome to Nitro Purgatory! To get out, press Ctrl + K and search for a friend.";
        display: block;
        position: absolute;
        top: calc(var(--header-height) + 20px);
        left: 15px;
        width: 80%;
        padding: 8px 16px;
        border-radius: 4px;
        color: #fff;
        background-color: #f04747;
        font-weight: 500;
        z-index: 999;
    }
}
